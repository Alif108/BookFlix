{"ast":null,"code":"import _classCallCheck from \"D:\\\\BUET\\\\L-4, T-1\\\\CSE - 408 (Software Devolopment)\\\\BookFlix\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\BUET\\\\L-4, T-1\\\\CSE - 408 (Software Devolopment)\\\\BookFlix\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\BUET\\\\L-4, T-1\\\\CSE - 408 (Software Devolopment)\\\\BookFlix\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\BUET\\\\L-4, T-1\\\\CSE - 408 (Software Devolopment)\\\\BookFlix\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\BUET\\\\L-4, T-1\\\\CSE - 408 (Software Devolopment)\\\\BookFlix\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\BUET\\\\L-4, T-1\\\\CSE - 408 (Software Devolopment)\\\\BookFlix\\\\client\\\\src\\\\components\\\\navbar.js\";\n/// Nav bar that changes based on logged in or not\n/// if logged in it changes depending on the role of user\nimport React, { Component } from 'react';\nimport { Link, Navigate } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\nimport axios from \"axios\";\nimport logout from \"./LogOut\";\n\nvar Navbar = /*#__PURE__*/function (_Component) {\n  _inherits(Navbar, _Component);\n\n  function Navbar(props) {\n    var _this;\n\n    _classCallCheck(this, Navbar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Navbar).call(this, props));\n    _this.state = {\n      loggedIn: false,\n      role: \"\",\n      query: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Navbar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://localhost:5000/navbar', {\n        method: 'GET',\n        headers: {\n          'token': localStorage.getItem('token')\n        }\n      }).then(function (res) {\n        _this2.setState({\n          loggedIn: true,\n          role: res.data.role\n        });\n      }).catch(function (err) {\n        console.log('Error from navbar');\n      });\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(event) {\n      logout.LogOut();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // link to addBook page if user is admin\n      var addBookLink, managePacksLink;\n\n      if (this.state.role === \"Admin\") {\n        addBookLink = /*#__PURE__*/React.createElement(Link, {\n          to: \"/admin/addbook\",\n          className: \"nav-link\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 19\n          }\n        }, \"Add Book\");\n        managePacksLink = /*#__PURE__*/React.createElement(Link, {\n          to: \"/admin/managePacks\",\n          className: \"nav-link\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 23\n          }\n        }, \" Manage Packs \");\n      } else {\n        addBookLink = \"\";\n        managePacksLink = \"\";\n      } // link to logout if user is logged in\n\n\n      var logoutButton;\n      logoutButton = /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.handleClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 18\n        }\n      }, \"Logout\"); // navbar if user is logged in\n\n      if (this.state.loggedIn === true) {\n        return /*#__PURE__*/React.createElement(\"nav\", {\n          className: \"navbar navbar-dark bg-dark navbar-expand-lg\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"/\",\n          className: \"navbar-brand\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 11\n          }\n        }, \"BookFlix\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"collpase navbar-collapse\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"ul\", {\n          className: \"navbar-nav mr-auto\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"li\", {\n          className: \"navbar-item\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"/books/\",\n          className: \"nav-link\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }\n        }, \"books\")), /*#__PURE__*/React.createElement(\"li\", {\n          className: \"navbar-item\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }\n        }, addBookLink), /*#__PURE__*/React.createElement(\"li\", {\n          className: \"navbar-item\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }\n        }, managePacksLink), /*#__PURE__*/React.createElement(\"li\", {\n          className: \"navbar-item\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }\n        }, logoutButton))));\n      } // navbar if user is not logged in\n      else {\n        return /*#__PURE__*/React.createElement(\"nav\", {\n          className: \"navbar navbar-dark bg-dark navbar-expand-lg\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"/\",\n          className: \"navbar-brand\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }\n        }, \"BookFlix\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"collpase navbar-collapse\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"ul\", {\n          className: \"navbar-nav mr-auto\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"li\", {\n          className: \"navbar-item\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"/register/\",\n          className: \"nav-link\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }\n        }, \"Register\")), /*#__PURE__*/React.createElement(\"li\", {\n          className: \"navbar-item\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"/login/\",\n          className: \"nav-link\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }\n        }, \"Login\")))));\n      }\n    }\n  }]);\n\n  return Navbar;\n}(Component);\n\nexport { Navbar as default };","map":{"version":3,"names":["React","Component","Link","Navigate","createBrowserHistory","axios","logout","Navbar","props","state","loggedIn","role","query","get","method","headers","localStorage","getItem","then","res","setState","data","catch","err","console","log","event","LogOut","addBookLink","managePacksLink","logoutButton","handleClick"],"sources":["D:/BUET/L-4, T-1/CSE - 408 (Software Devolopment)/BookFlix/client/src/components/navbar.js"],"sourcesContent":["/// Nav bar that changes based on logged in or not\r\n/// if logged in it changes depending on the role of user\r\n\r\nimport React, { Component } from 'react';\r\nimport { Link, Navigate } from 'react-router-dom';\r\nimport { createBrowserHistory } from 'history'\r\nimport axios from \"axios\";\r\n\r\nimport logout from \"./LogOut\";\r\n\r\nexport default class Navbar extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      loggedIn: false,\r\n      role: \"\",\r\n      query: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.get('http://localhost:5000/navbar', {\r\n      method: 'GET',\r\n      headers: {\r\n        'token': localStorage.getItem('token'),\r\n      },\r\n    })\r\n      .then(res => {\r\n        this.setState({loggedIn: true, role: res.data.role})\r\n      })\r\n      .catch(err =>{\r\n        console.log('Error from navbar');\r\n      });\r\n}\r\n\r\nhandleClick(event)\r\n{\r\n  logout.LogOut();\r\n}\r\n\r\nrender() {\r\n\r\n  // link to addBook page if user is admin\r\n  let addBookLink, managePacksLink;\r\n  if (this.state.role === \"Admin\") \r\n  {\r\n    addBookLink = <Link to=\"/admin/addbook\" className=\"nav-link\">Add Book</Link>;\r\n    managePacksLink = <Link to=\"/admin/managePacks\" className=\"nav-link\"> Manage Packs </Link>;\r\n  } \r\n  else {\r\n    addBookLink = \"\";\r\n    managePacksLink = \"\";\r\n  }\r\n\r\n  // link to logout if user is logged in\r\n  let logoutButton;\r\n  logoutButton = <button onClick={this.handleClick}>Logout</button>;\r\n\r\n  // navbar if user is logged in\r\n  if (this.state.loggedIn === true){\r\n      return (\r\n        <nav className=\"navbar navbar-dark bg-dark navbar-expand-lg\">\r\n          <Link to=\"/\" className=\"navbar-brand\">BookFlix</Link>\r\n          <div className=\"collpase navbar-collapse\">\r\n          \r\n          <ul className=\"navbar-nav mr-auto\">\r\n            <li className=\"navbar-item\">\r\n              <Link to=\"/books/\" className=\"nav-link\">books</Link>\r\n            </li>\r\n            \r\n            <li className=\"navbar-item\">\r\n              {addBookLink}\r\n            </li>\r\n\r\n            <li className=\"navbar-item\">\r\n              {managePacksLink}\r\n            </li>\r\n            \r\n            <li className=\"navbar-item\">\r\n            {logoutButton}\r\n            </li>\r\n          \r\n          </ul>\r\n          </div>\r\n        </nav>\r\n      );\r\n    }\r\n\r\n  // navbar if user is not logged in\r\n  else\r\n  {\r\n      return (\r\n          <nav className=\"navbar navbar-dark bg-dark navbar-expand-lg\">\r\n            <Link to=\"/\" className=\"navbar-brand\">BookFlix</Link>\r\n          <div className=\"collpase navbar-collapse\">\r\n          <ul className=\"navbar-nav mr-auto\">\r\n            <li className=\"navbar-item\">\r\n              <Link to=\"/register/\" className=\"nav-link\">Register</Link>\r\n            </li>\r\n            <li className=\"navbar-item\">\r\n              <Link to=\"/login/\" className=\"nav-link\">Login</Link>\r\n            </li>\r\n          </ul>\r\n          </div>\r\n        </nav>\r\n      );\r\n  }\r\n  }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}