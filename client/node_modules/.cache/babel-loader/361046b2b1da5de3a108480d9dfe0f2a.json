{"ast":null,"code":"var _jsxFileName = \"/home/supersharjil/Desktop/CSE408/BookFlix/client/src/components/bookList.js\";\nimport React, { Component } from \"react\";\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport axios from 'axios';\nimport { Container } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Book = props => /*#__PURE__*/_jsxDEV(Col, {\n  children: /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      backgroundColor: \"white\",\n      borderRadius: 20,\n      margin: 20,\n      padding: 20,\n      height: 400,\n      width\n    },\n    onClick: () => window.location.href = '/books/' + props.book._id,\n    fluid: true,\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      src: 'http://localhost:5000' + props.book.coverLocation,\n      style: {\n        height: 300,\n        width: 200\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 9,\n  columnNumber: 3\n}, this);\n\n_c = Book;\nexport default class BookList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: \"\",\n      books: []\n    };\n    this.searchBook = this.searchBook.bind(this);\n  }\n\n  async componentDidMount() {\n    axios.get('http://localhost:5000/books/', {\n      method: 'GET',\n      headers: {\n        'token': localStorage.getItem('token')\n      }\n    }).then(response => {\n      this.setState({\n        books: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  async searchBook(event) {\n    event.preventDefault();\n    this.setState({\n      query: event.target.value\n    });\n    console.log(this.state.query);\n\n    if (this.state.query === \"\") {\n      alert(\"Please enter a valid Query\");\n    }\n\n    axios.get('http://localhost:5000/books/searchBook/' + this.state.query, {\n      method: 'GET',\n      headers: {\n        'token': localStorage.getItem('token')\n      }\n    }).then(response => {\n      // console.log(response.data);\n      if (response.data.length === 0) {\n        alert(\"No book found\");\n      } else this.setState({\n        books: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  bookList() {\n    return this.state.books.map(currentbook => {\n      return /*#__PURE__*/_jsxDEV(Book, {\n        book: currentbook\n      }, currentbook._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 14\n      }, this);\n    });\n  }\n\n  showBookList() {\n    if (this.state.books.length > 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          xs: 1,\n          md: 5,\n          className: \"g-4\",\n          children: this.bookList()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      style: {\n        backgroundColor: \"#fff0cc\"\n      },\n      fluid: true,\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.searchBook,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"query\",\n          placeholder: \"Title or Author or Genre\",\n          type: \"text\",\n          onChange: event => this.setState({\n            query: event.target.value\n          }),\n          value: this.state.query\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), this.showBookList()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Book\");","map":{"version":3,"names":["React","Component","Row","Col","Card","axios","Container","Book","props","backgroundColor","borderRadius","margin","padding","height","width","window","location","href","book","_id","coverLocation","BookList","constructor","state","query","books","searchBook","bind","componentDidMount","get","method","headers","localStorage","getItem","then","response","setState","data","catch","error","console","log","event","preventDefault","target","value","alert","length","bookList","map","currentbook","showBookList","render"],"sources":["/home/supersharjil/Desktop/CSE408/BookFlix/client/src/components/bookList.js"],"sourcesContent":["import React, { Component }  from \"react\";\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport axios from 'axios';\nimport { Container } from \"@mui/material\";\n\nconst Book = props => (\n  <Col>\n    <Container style={{backgroundColor:\"white\", borderRadius:20, margin:20, padding:20, height:400, width}} onClick={() => window.location.href = '/books/'+props.book._id} fluid>\n          <img src= { 'http://localhost:5000'+props.book.coverLocation } style={{height:300, width:200}}/>\n    </Container>\n  </Col>\n)\n\nexport default class BookList extends Component{\n  constructor(props){\n    super(props);\n\n    this.state = {\n      query: \"\",\n      books: [],\n    };\n\n    this.searchBook = this.searchBook.bind(this);\n  }\n\n  async componentDidMount(){\n    axios.get('http://localhost:5000/books/', {\n      method: 'GET',\n      headers: {\n        'token': localStorage.getItem('token'),\n      },\n    })\n      .then(response => {\n        this.setState({\n          books: response.data,\n        });\n      })\n      .catch(function(error){\n        console.log(error);\n      }\n    );\n  }\n\n  async searchBook(event)\n  {\n    event.preventDefault();\n    this.setState({query: event.target.value});\n    console.log(this.state.query);\n\n    if(this.state.query === \"\"){\n      alert(\"Please enter a valid Query\");\n    }\n\n    axios.get('http://localhost:5000/books/searchBook/'+this.state.query, {\n      method: 'GET',\n      headers: {\n        'token': localStorage.getItem('token'),\n      },\n    })\n      .then(response => {\n        // console.log(response.data);\n        if(response.data.length === 0){\n          alert(\"No book found\");\n        }\n        else\n          this.setState({\n            books: response.data,\n          });\n      })\n      .catch(function(error){\n        console.log(error);\n      }\n    );\n  }\n\n  bookList(){\n    return this.state.books.map(currentbook => {\n      return <Book book={currentbook} key={currentbook._id}/>;\n    })\n  }\n\n  showBookList(){\n    if(this.state.books.length > 0){\n      return (\n        <div>\n          <Row xs={1} md={5} className=\"g-4\">\n              {this.bookList()}\n          </Row>\n        </div>\n      );\n    }\n  }\n\n  render(){\n    return (\n\n\n      <Container style={{backgroundColor:\"#fff0cc\"}} fluid>\n\n        <form onSubmit={this.searchBook}>\n          <input id=\"query\" placeholder=\"Title or Author or Genre\" type=\"text\" onChange={event => this.setState({query: event.target.value})} value={this.state.query}/>\n          <button type=\"submit\">Search</button>\n        </form>\n\n        {this.showBookList()}\n        \n      </Container>\n    );\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}