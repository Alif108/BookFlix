{"ast":null,"code":"var _jsxFileName = \"/home/supersharjil/Desktop/CSE408/BookFlix/client/src/components/bookList.js\";\nimport React, { Component } from \"react\";\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport axios from 'axios';\nimport { Container } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Book = props => /*#__PURE__*/_jsxDEV(Col, {\n  children: /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      backgroundColor: \"white\",\n      borderRadius: 20,\n      margin: 20,\n      padding: 20\n    },\n    onClick: () => window.location.href = '/books/' + props.book._id,\n    fluid: true,\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: 'http://localhost:5000' + props.book.coverLocation,\n        style: {\n          height: 280,\n          width: 200\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [props.book.title, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: [\" \", props.book.author]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: props.book.genre\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 3\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 9,\n  columnNumber: 3\n}, this);\n\n_c = Book;\nexport default class BookList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: \"\",\n      books: []\n    };\n    this.searchBook = this.searchBook.bind(this);\n  }\n\n  async componentDidMount() {\n    axios.get('http://localhost:5000/books/', {\n      method: 'GET',\n      headers: {\n        'token': localStorage.getItem('token')\n      }\n    }).then(response => {\n      this.setState({\n        books: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  async searchBook(event) {\n    event.preventDefault();\n    this.setState({\n      query: event.target.value\n    });\n    console.log(this.state.query);\n\n    if (this.state.query === \"\") {\n      alert(\"Please enter a valid Query\");\n    }\n\n    axios.get('http://localhost:5000/books/searchBook/' + this.state.query, {\n      method: 'GET',\n      headers: {\n        'token': localStorage.getItem('token')\n      }\n    }).then(response => {\n      // console.log(response.data);\n      if (response.data.length === 0) {\n        alert(\"No book found\");\n      } else this.setState({\n        books: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  bookList() {\n    return this.state.books.map(currentbook => {\n      return /*#__PURE__*/_jsxDEV(Book, {\n        book: currentbook\n      }, currentbook._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 14\n      }, this);\n    });\n  }\n\n  showBookList() {\n    if (this.state.books.length > 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          xs: 1,\n          md: 5,\n          className: \"g-4\",\n          children: this.bookList()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        backgroundColor: \"#fff0cc\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.searchBook,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"query\",\n          placeholder: \"Title or Author or Genre\",\n          type: \"text\",\n          width: 100,\n          onChange: event => this.setState({\n            query: event.target.value\n          }),\n          value: this.state.query\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), this.showBookList()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Book\");","map":{"version":3,"names":["React","Component","Row","Col","Card","axios","Container","Book","props","backgroundColor","borderRadius","margin","padding","window","location","href","book","_id","coverLocation","height","width","title","author","genre","BookList","constructor","state","query","books","searchBook","bind","componentDidMount","get","method","headers","localStorage","getItem","then","response","setState","data","catch","error","console","log","event","preventDefault","target","value","alert","length","bookList","map","currentbook","showBookList","render","display","flexDirection","alignItems","justifyContent"],"sources":["/home/supersharjil/Desktop/CSE408/BookFlix/client/src/components/bookList.js"],"sourcesContent":["import React, { Component }  from \"react\";\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport axios from 'axios';\nimport { Container } from \"@mui/material\";\n\nconst Book = props => (\n  <Col>\n  <Container style={{backgroundColor:\"white\", borderRadius:20, margin:20, padding:20 }} onClick={() => window.location.href = '/books/'+props.book._id} fluid>\n\n      <Row>\n        <img src= { 'http://localhost:5000'+props.book.coverLocation } style={{height:280, width:200}}/>\n      </Row>\n      <Row>\n        <h4>{props.book.title} </h4>\n      </Row>\n      <Row>\n        <h6> {props.book.author}</h6>\n      </Row>\n      <Row>\n        <h6>{props.book.genre}</h6>\n      </Row>\n\n  </Container>\n  </Col>\n\n)\n\nexport default class BookList extends Component{\n  constructor(props){\n    super(props);\n\n    this.state = {\n      query: \"\",\n      books: [],\n    };\n\n    this.searchBook = this.searchBook.bind(this);\n  }\n\n  async componentDidMount(){\n    axios.get('http://localhost:5000/books/', {\n      method: 'GET',\n      headers: {\n        'token': localStorage.getItem('token'),\n      },\n    })\n      .then(response => {\n        this.setState({\n          books: response.data,\n        });\n      })\n      .catch(function(error){\n        console.log(error);\n      }\n    );\n  }\n\n  async searchBook(event)\n  {\n    event.preventDefault();\n    this.setState({query: event.target.value});\n    console.log(this.state.query);\n\n    if(this.state.query === \"\"){\n      alert(\"Please enter a valid Query\");\n    }\n\n    axios.get('http://localhost:5000/books/searchBook/'+this.state.query, {\n      method: 'GET',\n      headers: {\n        'token': localStorage.getItem('token'),\n      },\n    })\n      .then(response => {\n        // console.log(response.data);\n        if(response.data.length === 0){\n          alert(\"No book found\");\n        }\n        else\n          this.setState({\n            books: response.data,\n          });\n      })\n      .catch(function(error){\n        console.log(error);\n      }\n    );\n  }\n\n  bookList(){\n    return this.state.books.map(currentbook => {\n      return <Book book={currentbook} key={currentbook._id}/>;\n    })\n  }\n\n  showBookList(){\n    if(this.state.books.length > 0){\n      return (\n        <div>\n          <Row xs={1} md={5} className=\"g-4\">\n              {this.bookList()}\n          </Row>\n        </div>\n      );\n    }\n  }\n\n  render(){\n    return (\n\n\n      <Container style={{display: \"flex\", flexDirection: \"column\", alignItems: \"center\", justifyContent:\"center\", backgroundColor:\"#fff0cc\"}}>\n        <br />\n        <form onSubmit={this.searchBook}>\n          <input id=\"query\" placeholder=\"Title or Author or Genre\" type=\"text\" width={100} onChange={event => this.setState({query: event.target.value})} value={this.state.query}/>\n          <button type=\"submit\">Search</button>\n        </form>\n        <br />\n        {this.showBookList()}\n        \n      </Container>\n    );\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}