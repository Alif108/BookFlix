{"ast":null,"code":"var _jsxFileName = \"/home/supersharjil/Desktop/CSE408/BookFlix/client/src/components/navbar.js\";\n/// Nav bar that changes based on logged in or not\n/// if logged in it changes depending on the role of user\nimport React, { Component } from 'react';\nimport { Link, Navigate } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\nimport axios from \"axios\";\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\nimport NavDropdown from 'react-bootstrap/NavDropdown';\nimport logout from \"./LogOut\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class NavigationBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loggedIn: false,\n      role: \"\",\n      query: \"\",\n      username: \"\"\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/navbar', {\n      method: 'GET',\n      headers: {\n        'token': localStorage.getItem('token')\n      }\n    }).then(res => {\n      this.setState({\n        loggedIn: true,\n        role: res.data.role,\n        username: res.data.username\n      });\n    }).catch(err => {\n      console.log('Error from navbar');\n    });\n  }\n\n  handleClick(event) {\n    logout.LogOut();\n  }\n\n  render() {\n    // navbar if user is logged in\n    if (this.state.loggedIn) {\n      // link to logout if user is logged in\n      let logoutButton;\n      logoutButton = /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.handleClick,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 18\n      }, this);\n      let link1, link2, link3, link4;\n      let username = this.state.username;\n\n      if (this.state.role === \"Admin\") {\n        link1 = /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/stats\",\n          className: \"nav-link\",\n          children: \"Stats\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this);\n        link2 = /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/addbook\",\n          className: \"nav-link\",\n          children: \"Add Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this);\n        link3 = /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/managepacks\",\n          className: \"nav-link\",\n          children: \"Manage Packs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this);\n        link4 = /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/requests\",\n          className: \"nav-link\",\n          children: \"Requests\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this);\n      } else {\n        link1 = /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/user/\",\n          className: \"nav-link\",\n          children: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this);\n        link2 = /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/books/\",\n          className: \"nav-link\",\n          children: \"Books\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this);\n        link3 = /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/books/\",\n          className: \"nav-link\",\n          children: \"My List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this);\n        link4 = \"\";\n      }\n\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Navbar, {\n          bg: \"dark\",\n          variant: \"dark\",\n          children: /*#__PURE__*/_jsxDEV(Container, {\n            children: /*#__PURE__*/_jsxDEV(Navbar.Brand, {\n              href: \"#home\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"\",\n                src: \"/logo.svg\",\n                width: \"30\",\n                height: \"30\",\n                className: \"d-inline-block align-top\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 13\n              }, this), ' ', \"React Bootstrap\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 7\n        }, this)\n      }, void 0, false);\n    } else {\n      return null;\n    }\n  }\n\n}","map":{"version":3,"names":["React","Component","Link","Navigate","createBrowserHistory","axios","Form","Button","Container","Row","Col","Nav","Navbar","NavDropdown","logout","NavigationBar","constructor","props","state","loggedIn","role","query","username","componentDidMount","get","method","headers","localStorage","getItem","then","res","setState","data","catch","err","console","log","handleClick","event","LogOut","render","logoutButton","link1","link2","link3","link4"],"sources":["/home/supersharjil/Desktop/CSE408/BookFlix/client/src/components/navbar.js"],"sourcesContent":["/// Nav bar that changes based on logged in or not\n/// if logged in it changes depending on the role of user\n\nimport React, { Component } from 'react';\nimport { Link, Navigate } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\nimport axios from \"axios\";\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\nimport NavDropdown from 'react-bootstrap/NavDropdown';\n\nimport logout from \"./LogOut\";\n\nexport default class NavigationBar extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      loggedIn: false,\n      role: \"\",\n      query: \"\",\n      username: \"\",\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/navbar', {\n      method: 'GET',\n      headers: {\n        'token': localStorage.getItem('token'),\n      },\n    })\n      .then(res => {\n        this.setState({loggedIn: true, role: res.data.role, username: res.data.username })\n      })\n      .catch(err =>{\n        console.log('Error from navbar');\n      });\n}\n\nhandleClick(event)\n{\n  logout.LogOut();\n}\n\nrender() {\n\n  // navbar if user is logged in\n  if (this.state.loggedIn) {\n    \n    // link to logout if user is logged in\n  let logoutButton;\n  logoutButton = <button onClick={this.handleClick}>Logout</button>;\n\n  let link1, link2, link3, link4;\n  let username = this.state.username;\n  if (this.state.role === \"Admin\") {\n    link1 = <Link to=\"/admin/stats\" className=\"nav-link\">Stats</Link>;\n    link2 = <Link to=\"/admin/addbook\" className=\"nav-link\">Add Book</Link>;\n    link3 = <Link to=\"/admin/managepacks\" className=\"nav-link\">Manage Packs</Link>;\n    link4 = <Link to=\"/admin/requests\" className=\"nav-link\">Requests</Link>;\n  } else {\n    link1 = <Link to=\"/user/\" className=\"nav-link\">Home</Link>;\n    link2 = <Link to=\"/books/\" className=\"nav-link\">Books</Link>;\n    link3 = <Link to=\"/books/\" className=\"nav-link\">My List</Link>;\n    link4 = \"\";\n  } \n    \n  return(\n    <>\n      <Navbar bg=\"dark\" variant=\"dark\">\n        <Container>\n          <Navbar.Brand href=\"#home\">\n            <img\n              alt=\"\"\n              src=\"/logo.svg\"\n              width=\"30\"\n              height=\"30\"\n              className=\"d-inline-block align-top\"\n            />{' '}\n            React Bootstrap\n          </Navbar.Brand>\n        </Container>\n      </Navbar>\n    </>\n\n   \n\n    );\n    }\n    else{\n      return (null);\n    }\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}